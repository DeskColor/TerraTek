(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{6892:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tank2",function(){return s(8330)}])},8330:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(4848),l=s(4953),i=s.n(l);s(7154);var r=s(6540);let n=i()(()=>s.e(112).then(s.bind(s,4731)).then(e=>e.Line),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),d=()=>{let[e,a]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[i,d]=(0,r.useState)(null),[c,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let[e,s,t,i]=await Promise.all([fetch("/api/latest/2"),fetch("/api/latest/3"),fetch("/api/latest/4"),fetch("/api/latest/5")]),r=await e.json(),n=await s.json(),c=await t.json(),u=await i.json();r.reverse(),n.reverse(),c.reverse(),u.reverse();let m=r.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));a({labels:m,datasets:[{label:"Temperature",data:r.map(e=>9*e.Sensor_Value/5+32),fill:!1,borderColor:"rgb(255, 0, 0)",tension:.1}]});let p=n.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));l({labels:p,datasets:[{label:"Humidity",data:n.map(e=>e.Sensor_Value),fill:!1,borderColor:"rgb(11, 173, 35)",tension:.1}]});let h=c.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));d({labels:h,datasets:[{label:"Pressure",data:c.map(e=>e.Sensor_Value),fill:!1,borderColor:"rgb(0, 0, 255)",tension:.1}]});let x=u.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));o({labels:x,datasets:[{label:"Illuminance",data:u.map(e=>e.Sensor_Value),fill:!1,borderColor:"rgb(255, 140, 0)",tension:.1}]})}catch(e){console.error("Error fetching weather data:",e)}})()},[]),(0,t.jsx)("div",{className:"w-full grid lg:grid-cols-4 md:grid-cols-2 grid-cols-1 gap-4 p-4 box-border",children:(0,t.jsx)("div",{className:"lg:col-span-4 md:col-span-2 col-span-1 p-6 bg-white border border-gray-300 shadow-md rounded-lg",children:(0,t.jsxs)("div",{className:"flex flex-wrap justify-between",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("h2",{className:"text-lg",children:"Tank Level"})}),e&&(0,t.jsx)(n,{data:e,options:{scales:{y:{title:{display:!0,text:"\xb0F"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",e&&"number"==typeof e.datasets[0].data.slice(-1)[0]&&(Math.round(100*e.datasets[0].data.slice(-1)[0])/100).toString(),"\xb0F"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",e&&e.labels&&e.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("h2",{className:"text-lg",children:"Water Temperature"})}),s&&(0,t.jsx)(n,{data:s,options:{scales:{y:{title:{display:!0,text:"%"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",s&&"number"==typeof s.datasets[0].data.slice(-1)[0]&&(Math.round(100*s.datasets[0].data.slice(-1)[0])/100).toString(),"%"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",s&&s.labels&&s.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("h2",{className:"text-lg",children:"PH"})}),i&&(0,t.jsx)(n,{data:i,options:{scales:{y:{title:{display:!0,text:"kPa"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",i&&"number"==typeof i.datasets[0].data.slice(-1)[0]&&(Math.round(100*i.datasets[0].data.slice(-1)[0])/100).toString()," kPa"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",i&&i.labels&&i.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("h2",{className:"text-lg",children:"TDC"})}),c&&(0,t.jsx)(n,{data:c,options:{scales:{y:{title:{display:!0,text:"lux"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",c&&"number"==typeof c.datasets[0].data.slice(-1)[0]&&(Math.round(100*c.datasets[0].data.slice(-1)[0])/100).toString()," lux"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",c&&c.labels&&c.labels.slice(-1)[0]]})]})]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[201,647,636,593,792],()=>a(6892)),_N_E=e.O()}]);