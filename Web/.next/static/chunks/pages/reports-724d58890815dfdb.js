(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{9608:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return s(3473)}])},3473:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(4848),l=s(4953),r=s.n(l);s(7154);var i=s(6540);let n=r()(()=>s.e(112).then(s.bind(s,4731)).then(e=>e.Line),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),d=()=>{let[e,a]=(0,i.useState)(null),[s,l]=(0,i.useState)(null),[r,d]=(0,i.useState)(null),[o,c]=(0,i.useState)(null),[m,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let[e,s,t,r,i]=await Promise.all([fetch("/api/latest/2"),fetch("/api/2"),fetch("/api/latest/3"),fetch("/api/latest/4"),fetch("/api/latest/5")]),n=await e.json(),o=await s.json(),m=await t.json(),p=await r.json(),h=await i.json();n.reverse(),o.reverse(),m.reverse(),p.reverse(),h.reverse();let g=n.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));a({labels:g,datasets:[{label:"Temperature",data:n.map(e=>9*e.Sensor_Value/5+32),fill:!1,borderColor:"rgb(255, 0, 0)",tension:.1}]});let b=o.map(e=>new Date(e.Sensor_Timestamp).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short",timeZone:"America/Chicago"}));l({labels:b,datasets:[{label:"Temperature",data:o.map(e=>9*e.Sensor_Value/5+32),fill:!1,borderColor:"rgb(230, 0, 255)",tension:.1}]});let x=m.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));d({labels:x,datasets:[{label:"Humidity",data:m.map(e=>e.Sensor_Value),fill:!1,borderColor:"rgb(11, 173, 35)",tension:.1}]});let y=p.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));c({labels:y,datasets:[{label:"Pressure",data:p.map(e=>e.Sensor_Value),fill:!1,borderColor:"rgb(0, 0, 255)",tension:.1}]});let w=h.map(e=>new Date(e.Sensor_Timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Chicago"}));u({labels:w,datasets:[{label:"Illuminance",data:h.map(e=>e.Sensor_Value),fill:!1,borderColor:"rgb(255, 140, 0)",tension:.1}]})}catch(e){console.error("Error fetching weather data:",e)}})()},[]),(0,t.jsxs)("div",{className:"w-full grid lg:grid-cols-4 md:grid-cols-2 grid-cols-1 gap-4 p-4 box-border",children:[(0,t.jsxs)("div",{className:"p-6 bg-white border border-gray-300 shadow-md rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Temperature"}),e&&(0,t.jsx)(n,{data:e,options:{scales:{y:{title:{display:!0,text:"\xb0F"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",e&&"number"==typeof e.datasets[0].data.slice(-1)[0]&&(Math.round(100*e.datasets[0].data.slice(-1)[0])/100).toString(),"\xb0F"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",e&&e.labels&&e.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"p-6 bg-white border border-gray-300 shadow-md rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Humidity"}),r&&(0,t.jsx)(n,{data:r,options:{scales:{y:{title:{display:!0,text:"%"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",r&&"number"==typeof r.datasets[0].data.slice(-1)[0]&&(Math.round(100*r.datasets[0].data.slice(-1)[0])/100).toString(),"%"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",r&&r.labels&&r.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"p-6 bg-white border border-gray-300 shadow-md rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Pressure"}),o&&(0,t.jsx)(n,{data:o,options:{scales:{y:{title:{display:!0,text:"kPa"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",o&&"number"==typeof o.datasets[0].data.slice(-1)[0]&&(Math.round(100*o.datasets[0].data.slice(-1)[0])/100).toString()," kPa"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",o&&o.labels&&o.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"p-6 bg-white border border-gray-300 shadow-md rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Illuminance"}),m&&(0,t.jsx)(n,{data:m,options:{scales:{y:{title:{display:!0,text:"lux"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{children:["Current Value: ",m&&"number"==typeof m.datasets[0].data.slice(-1)[0]&&(Math.round(100*m.datasets[0].data.slice(-1)[0])/100).toString()," lux"]}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",m&&m.labels&&m.labels.slice(-1)[0]]})]}),(0,t.jsxs)("div",{className:"lg:col-span-4 md:col-span-2 col-span-1 p-6 bg-white border border-gray-300 shadow-md rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Two Day Temperature History"}),s&&(0,t.jsx)(n,{data:s,options:{scales:{y:{title:{display:!0,text:"\xb0F"}}},plugins:{legend:{display:!1}}}}),(0,t.jsxs)("p",{className:"text-xs",children:["Last reading: ",e&&e.labels&&e.labels.slice(-1)[0]]})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[201,647,636,593,792],()=>a(9608)),_N_E=e.O()}]);